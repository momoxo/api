<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="robots" content="index, follow, all" />
        <title>SMTP | Momonga API</title>
                    <link rel="stylesheet" type="text/css" href="stylesheet.css">
                            </head>
        <body id="class">
            <div class="header">
        <ul>
            <li><a href="classes.html">Classes</a></li>
                            <li><a href="namespaces.html">Namespaces</a></li>
                        <li><a href="interfaces.html">Interfaces</a></li>
            <li><a href="doc-index.html">Index</a></li>
            
        </ul>

        <div id="title">Momonga API</div>

            <div class="type">Class</div>
    <h1><a href=".html"></a>SMTP</h1>
    </div>
        <div class="content">
                <p>class    <strong>SMTP</strong></p>

            <div class="description">
            <p>SMTP is rfc 821 compliant and implements all the rfc 821 SMTP commands except TURN which will always return a not implemented error.</p>
            <p>SMTP also provides some utility methods for sending mail<br />
 to an SMTP server.<br />
 original author: Chris Ryan</p>
        </div>
    
    
            <h2>Properties</h2>

            <table>
                    <tr>
                <td class="type" id="property_SMTP_PORT">
                                                            int
                </td>
                <td>$SMTP_PORT</td>
                <td class="last">SMTP server port</td>
            </tr>
                    <tr>
                <td class="type" id="property_CRLF">
                                                            string
                </td>
                <td>$CRLF</td>
                <td class="last">SMTP reply line ending</td>
            </tr>
                    <tr>
                <td class="type" id="property_do_debug">
                                                            bool
                </td>
                <td>$do_debug</td>
                <td class="last">Sets whether debugging is turned on</td>
            </tr>
                    <tr>
                <td class="type" id="property_do_verp">
                                                            bool
                </td>
                <td>$do_verp</td>
                <td class="last">Sets VERP use on/off (default is off)</td>
            </tr>
                    <tr>
                <td class="type" id="property_Version">
                                                            string
                </td>
                <td>$Version</td>
                <td class="last">Sets the SMTP PHPMailer Version number</td>
            </tr>
            </table>

    
            <h2>Methods</h2>

            <table>
                    <tr>
                <td class="type">
                    void
                </td>
                <td class="last">
                    <a href="#method___construct">__construct</a>()
                    <p>Initialize the class so that the data is in a known state.</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    bool
                </td>
                <td class="last">
                    <a href="#method_Connect">Connect</a>($host, $port, $tval = 30)
                    <p>Connect to the server specified on the port specified.</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    bool
                </td>
                <td class="last">
                    <a href="#method_StartTLS">StartTLS</a>()
                    <p>Initiate a TLS communication with the server.</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    bool
                </td>
                <td class="last">
                    <a href="#method_Authenticate">Authenticate</a>($username, $password)
                    <p>Performs SMTP authentication.</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    bool
                </td>
                <td class="last">
                    <a href="#method_Connected">Connected</a>()
                    <p>Returns true if connected to a server otherwise false</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    void
                </td>
                <td class="last">
                    <a href="#method_Close">Close</a>()
                    <p>Closes the socket and cleans up the state of the class.</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    bool
                </td>
                <td class="last">
                    <a href="#method_Data">Data</a>($msg_data)
                    <p>Issues a data command and sends the msg_data to the server finializing the mail transaction.</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    bool
                </td>
                <td class="last">
                    <a href="#method_Hello">Hello</a>($host = &#039;&#039;)
                    <p>Sends the HELO command to the smtp server.</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    bool
                </td>
                <td class="last">
                    <a href="#method_Mail">Mail</a>($from)
                    <p>Starts a mail transaction from the email address specified in $from.</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    bool
                </td>
                <td class="last">
                    <a href="#method_Quit">Quit</a>($close_on_error = true)
                    <p>Sends the quit command to the server and then closes the socket if there is no error or the $close_on_error argument is true.</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    bool
                </td>
                <td class="last">
                    <a href="#method_Recipient">Recipient</a>($to)
                    <p>Sends the command RCPT to the SMTP server with the TO: argument of $to.</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    bool
                </td>
                <td class="last">
                    <a href="#method_Reset">Reset</a>()
                    <p>Sends the RSET command to abort and transaction that is currently in progress.</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    bool
                </td>
                <td class="last">
                    <a href="#method_SendAndMail">SendAndMail</a>($from)
                    <p>Starts a mail transaction from the email address specified in $from.</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    bool
                </td>
                <td class="last">
                    <a href="#method_Turn">Turn</a>()
                    <p>This is an optional command for SMTP that this class does not support.</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    array
                </td>
                <td class="last">
                    <a href="#method_getError">getError</a>()
                    <p>Get the current error</p>
                </td>
                <td></td>
            </tr>
            </table>


        <h2>Details</h2>

                        <h3 id="method___construct">
        <div class="location">at line 90</div>
        <code>            public            void
    <strong>__construct</strong>()</code>
    </h3>
    <div class="details">
        <p>Initialize the class so that the data is in a known state.</p>
        <p></p>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_Connect">
        <div class="location">at line 115</div>
        <code>            public            bool
    <strong>Connect</strong>($host, $port, $tval = 30)</code>
    </h3>
    <div class="details">
        <p>Connect to the server specified on the port specified.</p>
        <p>If the port is not specified use the default SMTP_PORT.<br />
 If tval is specified then a connection will try and be<br />
 established with the server for that number of seconds.<br />
 If tval is not specified the default is 30 seconds to<br />
 try on the connection.<br />
<br />
 SMTP CODE SUCCESS: 220<br />
 SMTP CODE FAILURE: 421</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td></td>
                <td>$host</td>
                <td></td>
            </tr>
                    <tr>
                <td></td>
                <td>$port</td>
                <td></td>
            </tr>
                    <tr>
                <td></td>
                <td>$tval</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>bool</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_StartTLS">
        <div class="location">at line 171</div>
        <code>            public            bool
    <strong>StartTLS</strong>()</code>
    </h3>
    <div class="details">
        <p>Initiate a TLS communication with the server.</p>
        <p>SMTP CODE 220 Ready to start TLS<br />
 SMTP CODE 501 Syntax error (no parameters allowed)<br />
 SMTP CODE 454 TLS not available due to temporary reason</p>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>bool</td>
            <td>success</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_Authenticate">
        <div class="location">at line 213</div>
        <code>            public            bool
    <strong>Authenticate</strong>($username, $password)</code>
    </h3>
    <div class="details">
        <p>Performs SMTP authentication.</p>
        <p>Must be run after running the<br />
 Hello() method.  Returns true if successfully authenticated.</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td></td>
                <td>$username</td>
                <td></td>
            </tr>
                    <tr>
                <td></td>
                <td>$password</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>bool</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_Connected">
        <div class="location">at line 273</div>
        <code>            public            bool
    <strong>Connected</strong>()</code>
    </h3>
    <div class="details">
        <p>Returns true if connected to a server otherwise false</p>
        <p></p>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>bool</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_Close">
        <div class="location">at line 296</div>
        <code>            public            void
    <strong>Close</strong>()</code>
    </h3>
    <div class="details">
        <p>Closes the socket and cleans up the state of the class.</p>
        <p>It is not considered good to use this function without<br />
 first trying to use QUIT.</p>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_Data">
        <div class="location">at line 329</div>
        <code>            public            bool
    <strong>Data</strong>($msg_data)</code>
    </h3>
    <div class="details">
        <p>Issues a data command and sends the msg_data to the server finializing the mail transaction.</p>
        <p>$msg_data is the message<br />
 that is to be send with the headers. Each header needs to be<br />
 on a single line followed by a &lt;CRLF&gt; with the message headers<br />
 and the message body being seperated by and additional &lt;CRLF&gt;.<br />
<br />
 Implements rfc 821: DATA &lt;CRLF&gt;<br />
<br />
 SMTP CODE INTERMEDIATE: 354<br />
     [data]<br />
     &lt;CRLF&gt;.&lt;CRLF&gt;<br />
     SMTP CODE SUCCESS: 250<br />
     SMTP CODE FAILURE: 552,554,451,452<br />
 SMTP CODE FAILURE: 451,554<br />
 SMTP CODE ERROR  : 500,501,503,421</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td></td>
                <td>$msg_data</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>bool</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_Hello">
        <div class="location">at line 466</div>
        <code>            public            bool
    <strong>Hello</strong>($host = &#039;&#039;)</code>
    </h3>
    <div class="details">
        <p>Sends the HELO command to the smtp server.</p>
        <p>This makes sure that we and the server are in<br />
 the same known state.<br />
<br />
 Implements from rfc 821: HELO &lt;SP&gt; &lt;domain&gt; &lt;CRLF&gt;<br />
<br />
 SMTP CODE SUCCESS: 250<br />
 SMTP CODE ERROR  : 500, 501, 504, 421</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td></td>
                <td>$host</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>bool</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_Mail">
        <div class="location">at line 536</div>
        <code>            public            bool
    <strong>Mail</strong>($from)</code>
    </h3>
    <div class="details">
        <p>Starts a mail transaction from the email address specified in $from.</p>
        <p>Returns true if successful or false otherwise. If True<br />
 the mail transaction is started and then one or more Recipient<br />
 commands may be called followed by a Data command.<br />
<br />
 Implements rfc 821: MAIL &lt;SP&gt; FROM:&lt;reverse-path&gt; &lt;CRLF&gt;<br />
<br />
 SMTP CODE SUCCESS: 250<br />
 SMTP CODE SUCCESS: 552,451,452<br />
 SMTP CODE SUCCESS: 500,501,421</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td></td>
                <td>$from</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>bool</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_Quit">
        <div class="location">at line 579</div>
        <code>            public            bool
    <strong>Quit</strong>($close_on_error = true)</code>
    </h3>
    <div class="details">
        <p>Sends the quit command to the server and then closes the socket if there is no error or the $close_on_error argument is true.</p>
        <p>Implements from rfc 821: QUIT &lt;CRLF&gt;<br />
<br />
 SMTP CODE SUCCESS: 221<br />
 SMTP CODE ERROR  : 500</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td></td>
                <td>$close_on_error</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>bool</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_Recipient">
        <div class="location">at line 632</div>
        <code>            public            bool
    <strong>Recipient</strong>($to)</code>
    </h3>
    <div class="details">
        <p>Sends the command RCPT to the SMTP server with the TO: argument of $to.</p>
        <p>Returns true if the recipient was accepted false if it was rejected.<br />
<br />
 Implements from rfc 821: RCPT &lt;SP&gt; TO:&lt;forward-path&gt; &lt;CRLF&gt;<br />
<br />
 SMTP CODE SUCCESS: 250,251<br />
 SMTP CODE FAILURE: 550,551,552,553,450,451,452<br />
 SMTP CODE ERROR  : 500,501,503,421</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td></td>
                <td>$to</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>bool</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_Reset">
        <div class="location">at line 675</div>
        <code>            public            bool
    <strong>Reset</strong>()</code>
    </h3>
    <div class="details">
        <p>Sends the RSET command to abort and transaction that is currently in progress.</p>
        <p>Returns true if successful false<br />
 otherwise.<br />
<br />
 Implements rfc 821: RSET &lt;CRLF&gt;<br />
<br />
 SMTP CODE SUCCESS: 250<br />
 SMTP CODE ERROR  : 500,501,504,421</p>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>bool</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_SendAndMail">
        <div class="location">at line 723</div>
        <code>            public            bool
    <strong>SendAndMail</strong>($from)</code>
    </h3>
    <div class="details">
        <p>Starts a mail transaction from the email address specified in $from.</p>
        <p>Returns true if successful or false otherwise. If True<br />
 the mail transaction is started and then one or more Recipient<br />
 commands may be called followed by a Data command. This command<br />
 will send the message to the users terminal if they are logged<br />
 in and send them an email.<br />
<br />
 Implements rfc 821: SAML &lt;SP&gt; FROM:&lt;reverse-path&gt; &lt;CRLF&gt;<br />
<br />
 SMTP CODE SUCCESS: 250<br />
 SMTP CODE SUCCESS: 552,451,452<br />
 SMTP CODE SUCCESS: 500,501,502,421</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td></td>
                <td>$from</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>bool</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_Turn">
        <div class="location">at line 767</div>
        <code>            public            bool
    <strong>Turn</strong>()</code>
    </h3>
    <div class="details">
        <p>This is an optional command for SMTP that this class does not support.</p>
        <p>This method is here to make the RFC821 Definition<br />
 complete for this class and __may__ be implimented in the future<br />
<br />
 Implements from rfc 821: TURN &lt;CRLF&gt;<br />
<br />
 SMTP CODE SUCCESS: 250<br />
 SMTP CODE FAILURE: 502<br />
 SMTP CODE ERROR  : 500, 503</p>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>bool</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_getError">
        <div class="location">at line 781</div>
        <code>            public            array
    <strong>getError</strong>()</code>
    </h3>
    <div class="details">
        <p>Get the current error</p>
        <p></p>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>array</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

    
            </div>
            <div id="footer">
        Generated by <a href="http://sami.sensiolabs.org/" target="_top">Sami, the API Documentation Generator</a>.
    </div>
    </body>
</html>
